<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Ø¨Ø±ÙˆÙØ§ÙŠÙ„ Ø§Ù„Ù…ØªØ³Ø§Ø¨Ù‚ - Tech Chance</title>
<link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet" />
<style>
  body {
    margin: 0;
    padding: 0;
    height: 100vh;
    font-family: 'Tajawal', sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    background: linear-gradient(135deg, #1e1e1e, #121212);
    color: #fff;
  }

  .profile-card {
    background-color: #222;
    padding: 25px 20px;
    border-radius: 20px;
    box-shadow: 0 0 25px rgba(243, 156, 18, 0.6);
    width: 280px;
    min-height: 400px;
    text-align: center;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    position: relative;
  }

  .profile-card h1 {
    color: #f39c12;
    margin-bottom: 20px;
    font-weight: 700;
    font-size: 1.8rem;
  }

  .profile-avatar {
    width: 120px;
    height: 120px;
    border-radius: 50%;
    border: 4px solid #f39c12;
    object-fit: cover;
    margin-bottom: 15px;
    cursor: pointer;
    transition: box-shadow 0.3s ease;
  }

  .profile-avatar:hover {
    box-shadow: 0 0 20px #f39c12;
  }

  .profile-info p {
    margin: 8px 0;
    font-size: 1rem;
  }

  .btn {
    background-color: #f39c12;
    color: #fff;
    border: none;
    border-radius: 10px;
    padding: 10px 20px;
    font-weight: 700;
    font-size: 1rem;
    cursor: pointer;
    margin-top: 15px;
    transition: background-color 0.3s ease;
  }

  .btn:hover {
    background-color: #e67e22;
  }

  .warning {
    background-color: #e74c3c;
    color: #fff;
    padding: 10px;
    border-radius: 10px;
    font-weight: bold;
    margin-bottom: 10px;
    display: none;
    animation: fadeOut 5s forwards;
    position: absolute;
    top: -50px;
  }

  @keyframes fadeOut {
    0% { opacity: 1; }
    80% { opacity: 1; }
    100% { opacity: 0; display: none; }
  }
</style>
</head>
<body>

<div class="profile-card">
  <div class="warning" id="warningBox">âš ï¸ ÙŠÙ…ÙƒÙ†Ùƒ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¨Ø±ÙˆÙØ§ÙŠÙ„ Ù…Ø±ØªÙŠÙ† ÙÙ‚Ø· ÙÙŠ Ø§Ù„Ø´Ù‡Ø±!</div>

  <h1>Ø¨Ø±ÙˆÙØ§ÙŠÙ„Ùƒ</h1>

  <img id="avatarImage" src="https://via.placeholder.com/150" alt="Avatar" class="profile-avatar" title="Ø§Ø¶ØºØ· Ù„ØªØºÙŠÙŠØ± Ø§Ù„ØµÙˆØ±Ø©" />
  <input type="file" id="avatarInput" accept="image/*" style="display:none;" />

  <div class="profile-info">
    <p>ğŸ‘¤ Ø§Ù„Ø§Ø³Ù…: <span id="displayName">---</span></p>
    <p>ğŸ‚ Ø§Ù„Ø¹Ù…Ø±: <span id="displayAge">---</span></p>
    <p>ğŸ”° Ø§Ù„ÙŠÙˆØ²Ø±: <span id="displayHandle">---</span></p>
    <p>ğŸš» Ø§Ù„Ø¬Ù†Ø³: <span id="displayGender">---</span></p>
    <p>ğŸ† Ø§Ù„Ù†Ù‚Ø§Ø·: <span id="displayPoints">0</span></p>
  </div>

  <button class="btn" id="editBtn">ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¨Ø±ÙˆÙØ§ÙŠÙ„</button>
</div>

<script>
  // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† localStorage
  const userData = JSON.parse(localStorage.getItem('userData')) || {
    name: '---',
    age: '---',
    instagram: '---',
    gender: '---',
    points: '0',
    avatar: 'https://via.placeholder.com/150',
  };

  document.getElementById('displayName').innerText = userData.name;
  document.getElementById('displayAge').innerText = userData.age;
  document.getElementById('displayHandle').innerText = userData.instagram;
  document.getElementById('displayGender').innerText = userData.gender;
  document.getElementById('displayPoints').innerText = userData.points;
  document.getElementById('avatarImage').src = userData.avatar;

  // Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù„Ù„ØªØ¹Ø¯ÙŠÙ„ Ù…Ø±ØªÙŠÙ† ÙÙŠ Ø§Ù„Ø´Ù‡Ø±
  const maxEditsPerMonth = 2;
  const currentMonth = new Date().getMonth() + 1;
  let editData = JSON.parse(localStorage.getItem('editData')) || { count: 0, month: currentMonth };

  if (editData.month !== currentMonth) {
    editData = { count: 0, month: currentMonth };
    localStorage.setItem('editData', JSON.stringify(editData));
  }

  // ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø©
  document.getElementById('avatarImage').addEventListener('click', () => {
    document.getElementById('avatarInput').click();
  });

  document.getElementById('avatarInput').addEventListener('change', function(){
    const file = this.files[0];
    if (file) {
      const reader = new FileReader();
      reader.onload = function(e){
        document.getElementById('avatarImage').src = e.target.result;
        userData.avatar = e.target.result;
        localStorage.setItem('userData', JSON.stringify(userData));
      };
      reader.readAsDataURL(file);
    }
  });

  // Ø²Ø± Ø§Ù„ØªØ¹Ø¯ÙŠÙ„
  document.getElementById('editBtn').addEventListener('click', () => {
    if (editData.count >= maxEditsPerMonth) {
      // Ø¹Ø±Ø¶ Ø§Ù„ØªØ­Ø°ÙŠØ± ÙÙ‚Ø· Ù„Ù…Ø¯Ø© 5 Ø«ÙˆØ§Ù†ÙŠ
      const warningBox = document.getElementById('warningBox');
      warningBox.style.display = 'block';
      warningBox.style.opacity = '1';
      setTimeout(() => {
        warningBox.style.display = 'none';
      }, 5000);
      return;
    }

    // Ù…Ø«Ø§Ù„: Ù‡Ù†Ø§ ØªÙ‚Ø¯Ø± ØªÙØªØ­ ÙÙˆØ±Ù… ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø§Ø³Ù… ÙˆØ§Ù„Ø¹Ù…Ø± ...Ø§Ù„Ø®
    const newName = prompt('Ø§Ø³Ù… Ø¬Ø¯ÙŠØ¯:', userData.name);
    const newAge = prompt('Ø¹Ù…Ø± Ø¬Ø¯ÙŠØ¯:', userData.age);
    const newInstagram = prompt('ÙŠÙˆØ²Ø± Ø§Ù†Ø³ØªØºØ±Ø§Ù… Ø¬Ø¯ÙŠØ¯:', userData.instagram);
    const newGender = prompt('Ø§Ù„Ø¬Ù†Ø³:', userData.gender);

    if (newName && newAge && newInstagram && newGender) {
      userData.name = newName;
      userData.age = newAge;
      userData.instagram = newInstagram;
      userData.gender = newGender;

      localStorage.setItem('userData', JSON.stringify(userData));

      // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø´Ø§Ø´Ø©
      document.getElementById('displayName').innerText = userData.name;
      document.getElementById('displayAge').innerText = userData.age;
      document.getElementById('displayHandle').innerText = userData.instagram;
      document.getElementById('displayGender').innerText = userData.gender;

      // Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø¹Ø¯Ø§Ø¯
      editData.count++;
      localStorage.setItem('editData', JSON.stringify(editData));
    }
  });
</script>

</body>
</html>